################
# WINDOW RULES #
################

# Ignore fullscreen requestes
windowrule {
  name = ignore-fullscreen-request
  match:class = .*
  suppress_event = maximize
}

# Fix some dragging issues with XWayland
windowrule {
  name = fix-dragging
  match {
    class = ^$
    title = ^$
    xwayland = true 
    float = true 
    fullscreen = false 
    pin = false
  }
  no_focus = on
}

# Make float-term windows float and not lose focus
windowrule {
  name = float-term 
  match:class = float-term
  float = on 
  size = 960 640
  center = on
  stay_focused = on
}

# Make desktop portal window float
windowrule {
  name = float-portal
  match:class = xdg-desktop-portal*
  float = on
  size = 960 640
  center = on
}

# make libreoffice dropdowns 0.8 opacity (only works with GDK_BACKEND=x11)
windowrule {
  name = fix-libreoffice-dropdown-opacity
  match:initial_class = Soffice
  opacity = 1.0 0.8
}

# make emote not exit if unfocused
windowrule {
  name = keep-emote-focus
  match:title = emote
  stay_focused = on
}

###############
# LAYER RULES #
###############

# Don't animate grim and slurp so screenshots don't get ruined
layerrule {
  name = noanim-selection
  match:namespace = selection
  no_anim = on
}

# Add Blur background to waybar
layerrule {
  name = blur-waybar
  match:namespace = waybar
  blur = on
}

# Dim background on launcher
layerrule {
  name = dimaround-launcher
  match:namespace = launcher
  dim_around = on
}

# Enable seeing notifications on the lockscreen
layerrule {
  name = abovelock-notifcations
  match:namespace = notifications
  above_lock = on
}

###################
# WORKSPACE RULES #
###################

# minimized workspace rules
workspace = special:minimized, gapsout:64, bordersize:1
